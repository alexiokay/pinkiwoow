import{j as o,a as w,k as m}from"./entry.2d4efcb3.js";const A=/^\w{2,}:(\/\/)?/,g=/^\/\/[^/]+/;function p(r,t=!1){return A.test(r)||t&&g.test(r)}const T=/\/$|\/\?/;function i(r="",t=!1){return t?T.test(r):r.endsWith("/")}function L(r="",t=!1){if(!t)return(i(r)?r.slice(0,-1):r)||"/";if(!i(r,!0))return r||"/";const[e,...n]=r.split("?");return(e.slice(0,-1)||"/")+(n.length>0?`?${n.join("?")}`:"")}function R(r="",t=!1){if(!t)return r.endsWith("/")?r:r+"/";if(i(r,!0))return r||"/";const[e,...n]=r.split("?");return e+"/"+(n.length>0?`?${n.join("?")}`:"")}function c(r=""){return r.startsWith("/")}function C(r=""){return(c(r)?r.slice(1):r)||"/"}function U(r=""){return c(r)?r:"/"+r}function E(r,t){if(j(t)||p(r))return r;const e=L(t);return r.startsWith(e)?r:O(e,r)}function j(r){return!r||r==="/"}function b(r){return r&&r!=="/"}function O(r,...t){let e=r||"";for(const n of t.filter(y=>b(y)))e=e?R(e)+C(n):n;return e}const S=["p","h1","h2","h3","h4","h5","h6","li"];function s(r,t){return r.type===t||typeof r.type=="object"&&r.type.tag===t||r.tag===t}function f(r){return s(r,"text")||typeof r.children=="string"}function l(r){return Array.isArray(r.children)||typeof r.children=="string"?r.children:typeof r.children.default=="function"?r.children.default():[]}function a(r){if(!r)return"";if(Array.isArray(r))return r.map(a).join("");if(f(r))return r.children||r.value;const t=l(r);return Array.isArray(t)?t.map(a).join(""):""}function u(r,t=["p"]){if(Array.isArray(r))return r.flatMap(n=>u(n,t));let e=r;return t.some(n=>n==="*"||s(r,n))&&(e=l(r)||r,!Array.isArray(e)&&S.some(n=>s(r,n))&&(e=[e])),e}function h(r,t=["p"]){return r=Array.isArray(r)?r:[r],t.length?r.flatMap(e=>h(u(e,[t[0]]),t.slice(1))).filter(e=>!(f(e)&&a(e).trim()==="")):r}const _=r=>E(r,o().public.content.api.baseURL),D=()=>({unwrap:u,flatUnwrap:h}),B=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxtjs.org/guide/writing/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},G=()=>{const{experimental:r}=o().content;if(r.clientDB)return!0;const t=w().query;return Object.prototype.hasOwnProperty.call(t,"preview")&&!t.preview?!1:!!(t.preview||m("previewToken").value)};export{U as a,L as b,_ as c,D as d,E as e,O as j,G as s,B as u,R as w};
